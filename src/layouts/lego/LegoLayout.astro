---
import ContributionModal from '@/components/ContributionModal.astro';
import Header from '../Header.astro';

export interface Props {
  title: string;
  description?: string;
}

const {
  title,
  description = 'Crowdfunding familiar para conseguir el set de LEGO D&D',
} = Astro.props;

const url = new URL(Astro.request.url);
const id = url.searchParams.get('id');

const customPaymentMethods = [
  {
    id: 'cash',
    name: 'En efectivo',
    icon: 'ğŸ¤',
    description: 'Pago en mano',
    enabled: true,
  },
  {
    id: 'bizum',
    name: 'Bizum',
    icon: 'ğŸ“±',
    description: 'Pago mÃ³vil rÃ¡pido',
    enabled: true,
  },
];

const emojiOptions: { value: string; label: string }[] = [
  { value: 'ğŸ¦¸', label: 'SuperhÃ©roe' },
  { value: 'ğŸ§™', label: 'Mago' },
  { value: 'âš”ï¸', label: 'Guerrero' },
  { value: 'ğŸ¹', label: 'Arquero' },
  { value: 'ğŸ›¡ï¸', label: 'Defensor' },
  { value: 'ğŸ­', label: 'Bardo' },
  { value: 'ğŸ•µï¸', label: 'Explorador' },
  { value: 'ğŸ’«', label: 'Estrella' },
  { value: 'ğŸŒŸ', label: 'Leyenda' },
  { value: 'â¤ï¸', label: 'CorazÃ³n' },
];
---

<!doctype html>
<html lang='es'>
  <head>
    <meta charset='UTF-8' />
    <meta
      name='viewport'
      content='width=device-width, initial-scale=1.0'
    />
    <meta
      name='description'
      content={description}
    />
    <title>{title}</title>
    <link
      rel='preconnect'
      href='https://fonts.googleapis.com'
    />
    <link
      rel='preconnect'
      href='https://fonts.gstatic.com'
      crossorigin
    />
    <link
      href='https://fonts.googleapis.com/css2?family=Fredoka+One:wght@400&family=Poppins:wght@300;400;600;700&display=swap'
      rel='stylesheet'
    />
    <link
      rel='stylesheet'
      href='/styles/global.css'
    />
  </head>
  <body>
    <Header
      title='ğŸ‰ Â¡El DragÃ³n Rojo nos Espera! ğŸ”¥'
      subtitle='Una aventura familiar Ã©pica con LEGO D&D'
    />
    <main class='main-content'>
      <slot />
    </main>
    <slot name='footer' />
    <ContributionModal
      paymentMethods={customPaymentMethods}
      currency='â‚¬'
      modalTitle='Apoya el proyecto familiar'
      modalIcon='ğŸ§©'
      modalSubtitle='Crea recuerdos con LEGO'
      summaryTitle='Resumen de tu aporte'
      formTitle='Tus datos'
      paymentTitle='Selecciona mÃ©todo'
      successTitle='Â¡Gracias por tu apoyo!'
      successMessage='Hemos registrado tu contribuciÃ³n.'
      cancelButtonText='Cerrar'
      confirmButtonText='Pagar y Registrar'
      bizumNumber='648 029 265'
      bizumConcept='Crowdfam + Tu Nombre'
      totalLabel='Total a pagar:'
      emojiOptions={emojiOptions}
      projectId={id ? id : ''}
    />
  </body>
</html>
